{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "title": "Blog Title", "subTitle": "Blog description", "avatarUrl": "https://github.githubassets.com/favicons/favicon.svg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/Python-shu-ju-ku-lian-jie.html", "labels": ["Python", "Flask", "\u6570\u636e\u5e93"], "postTitle": "Python\u6570\u636e\u5e93\u8fde\u63a5", "postUrl": "post/Python-shu-ju-ku-lian-jie.html", "postSourceUrl": "https://github.com/suseloo/gitweb/issues/1", "commentNum": 0, "wordCount": 1311, "description": "\r\n1\u3001MySQL-python\uff1a\u53ea\u652f\u6301python2 \u662f\u5bf9C\u8bed\u8a00\u64cd\u4f5c\u6570\u636e\u5e93\u7684\u4e00\u4e2a\u7b80\u5355\u5c01\u88c5     \r\n2\u3001mysqlclient\uff1a\u662f1\u7684\u5206\u652f\u6548\u7387\u6700\u9ad8\uff0c\u5b89\u88c5\u65f6\u5bb9\u6613\u56e0\u73af\u5883\u7ecf\u5e38\u51fa\u73b0\u5404\u79cd\u95ee\u9898        \r\n3\u3001pymysql\uff1a\u7eafpthon\u5b9e\u73b0\u6548\u7387\u4e0d\u59822\uff0c\u4f46\u662f\u65e0\u7f1d\u8854\u63a5python    \r\n4\u3001mysql-connector-python\uff1aMySQL\u5b98\u65b9\u9000\u51fa\uff0c\u6548\u7387\u6162  \r\n-- pip install pymysql  \r\n\u4e0d\u76f4\u63a5\u4f7f\u7528\u539f\u751fsql\u8bed\u53e5\u8fdb\u884c\u64cd\u4f5c \u4f7f\u7528ORM\u65b9\u5f0f\u64cd\u4f5c Flask-SQLAlchemy\u64cd\u4f5c   \r\n-- pip install flask-sqlalchemy \r\n\u53ef\u4ee5\u5408\u5e76\u6570\u636e\u5e93\u4e0d\u4f7f\u7528# with app.app_context():db.create_all() \u76f8\u5f53\u4e8e\u80fd\u52a8\u6001\u66f4\u65b0\u6570\u636e\u5e93\u8868     \r\n-- pip install flask-migrate        \r\nfrom flask_migrate import Migrate       \r\nmigrate = Migrate(app,db)   \r\n**ORM\u6a21\u578b\u6620\u5c04\u6210\u8868\u7684\u4e09\u6b65**    \r\n**1.flask db init #\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21**    \r\n**2.flask db migrate #\u6bcf\u6b21\u6dfb\u52a0\u6a21\u578b\u7c7b\u540e\u6267\u884c \u8bc6\u522bORM\u6a21\u578b\u7684\u6539\u53d8\uff0c\u751f\u6210\u8fc1\u79fb\u811a\u672c**    \r\n**3.flask db upgrade #\u6267\u884c\u8fc1\u79fb\u811a\u672c\uff0c\u5b8c\u6210ORM\u6a21\u578b\u548c\u6570\u636e\u5e93\u7684\u6620\u5c04,\u8fd0\u884c\u8fc1\u79fb\u811a\u672c\uff0c\u540c\u6b65\u5230\u6570\u636e\u5e93\u4e2d**    \r\n\r\n```python\r\nfrom flask import Flask,request,render_template\r\nfrom flask_sqlalchemy import SQLAlchemy\r\nfrom sqlalchemy import text\r\nfrom datetime import datetime\r\n\r\napp = Flask(__name__)\r\n\r\n#MySQL\u6240\u5728\u7684\u4e3b\u673a\u540d\r\nHOSTNAME = '127.0.0.1'\r\n#MySQL\u76d1\u542c\u7684\u7aef\u53e3\u53f7\uff0c\u9ed8\u8ba43306\r\nPORT = 3306\r\n#\u6570\u636e\u5e93\u7684\u8d26\u53f7\r\nUSERNAME = 'root'\r\n#\u6570\u636e\u5e93\u5bc6\u7801\r\nPASSWORD = 'root'\r\n#\u6570\u636e\u5e93\u540d\u79f0\r\nDATABASE = 'database_learn'\r\n\r\napp.config['SQLALCHEMY_DATABASE_URI'] = f'mysql+pymysql://{USERNAME}:{PASSWORD}@{HOSTNAME}:{PORT}/{DATABASE}?charset=utf8mb4'\r\n\r\ndb = SQLAlchemy(app)\r\nwith app.app_context():\r\n    with db.engine.connect() as conn:\r\n        rs = conn.execute(text('SELECT 1'))\r\n        print(rs.fetchone()) #(1,)\r\n```\u3002", "top": 0, "createdAt": 1718852122, "style": "", "script": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "Flask": "#299902", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "Python": "#E60D63", "question": "#d876e3", "wontfix": "#ffffff", "\u6570\u636e\u5e93": "#84EF4C"}, "displayTitle": "Blog Title", "faviconUrl": "https://github.githubassets.com/favicons/favicon.svg", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "homeUrl": "https://suseloo.github.io/gitweb", "prevUrl": "disabled", "nextUrl": "disabled"}